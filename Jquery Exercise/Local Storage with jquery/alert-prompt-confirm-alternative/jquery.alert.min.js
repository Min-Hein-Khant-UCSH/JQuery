!function(n){n.fn.alert=function(t,e){n(this).queue(function(){n.alert(t,e)})},n.fn.confirm=function(t,e){n(this).queue(function(){n.alert(t,e)})},n.fn.prompt=function(t,e){n(this).queue(function(){n.alert(t,e)})};var t="IDX"+Math.floor(1e3*Math.random()),e="TT"+Math.floor(1e3*Math.random()),i="TB"+Math.floor(1e3*Math.random()),o="EM"+Math.floor(1e3*Math.random()),c="BTN"+Math.floor(1e3*Math.random()),a="INPUT"+Math.floor(1e3*Math.random()),l="popup_open",f="body",p={title:"Title",em:"",callEvent:null,cancelEvent:null,confirmButton:"Okay",cancelButton:"Cancel",input:"text",value:null},d={text:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="text">')},tel:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="tel">')},number:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="number">')},password:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="password">')}},u=function(t){return n("<ul>").append(n("<li>").append(n('<a href="#" class="confirm">'+t.confirmButton+"</a>")))},r=function(t){return n("<ul>").append(n("<li>").append(n('<a href="#" class="close">'+t.cancelButton+"</a>"))).append(n("<li>").append(n('<a href="#" class="confirm">'+t.confirmButton+"</a>")))},s=function(t){return n("<ul>").append(n("<li>").append(n('<a href="#" class="close">'+t.cancelButton+"</a>"))).append(n("<li>").append(n('<a href="#" class="confirm">'+t.confirmButton+"</a>")))},m={creation:function(a){n(f).append(n('<div id="'+t+'" class="popup">').append(n('<div class="popup-wrap">').append(n('<h2 id="'+e+'" class="popup-title">')).append(n('<div class="popup-content">').append(n('<div class="text-box">').append(n('<p id="'+i+'">')).append(n('<strong id="'+o+'">'))).append(n('<div class="popup-btn" id="'+c+'">')))).append('<div class="dimmed"></div>')),a()},confirm:function(n){m.close(),m.callEvent(n)},cancel:function(n){m.close(),m.cancelEvent(n)},close:function(){n(f).removeClass(l),n("#"+t).remove()},show:function(){n(f).addClass(l)},callEvent:function(n){"function"==typeof n.callEvent&&n.callEvent(n.value)},cancelEvent:function(n){"function"==typeof n.cancelEvent&&n.cancelEvent()}};n.alert=function(a,f){if(n("body").hasClass(l))return!1;"function"!=typeof a&&"object"!=typeof a||(a="["+typeof a+"]"),f=n.extend({},p,f),m.creation(function(){n("#"+t).addClass("alert"),n("#"+t).find("#"+c).append(u(f)),f.title?n("#"+t).find("#"+e).html(f.title):n("#"+t).find("#"+e).remove(),n("#"+t).find("#"+i).html(a),n("#"+t).find("#"+o).html(f.em),n("#"+t).find("#"+c).find(".confirm").unbind("click.confirm").bind("click.confirm",function(n){n.preventDefault(),m.confirm(f)}),m.show()})},n.confirm=function(a,f){if(n("body").hasClass(l))return!1;"function"!=typeof a&&"object"!=typeof a||(a="["+typeof a+"]"),f=n.extend({},p,f),m.creation(function(){n("#"+t).addClass("confirm"),n("#"+t).find("#"+c).append(r(f)),n("#"+t).find("#"+e).html(f.title),n("#"+t).find("#"+i).html(a),n("#"+t).find("#"+o).html(f.em),n("#"+t).find("#"+c).find(".confirm").unbind("click.confirm").bind("click.confirm",function(n){n.preventDefault(),m.confirm(f)}),n("#"+t).find("#"+c).find(".close").unbind("click.close").bind("click.close",function(n){n.preventDefault(),m.cancel(f)}),m.show()})},n.prompt=function(f,u){if(n("body").hasClass(l))return!1;"function"!=typeof f&&"object"!=typeof f||(f="["+typeof f+"]"),u=n.extend({},p,u),m.creation(function(){console.log(u),n("#"+t).addClass("prompt"),n("#"+t).find("#"+c).before(d[u.input]()),n("#"+t).find("#"+c).append(s(u)),n("#"+t).find("#"+e).html(u.title),n("#"+t).find("#"+i).html(f),n("#"+t).find("#"+o).html(u.em),n("#"+t).find("#"+c).find(".confirm").unbind("click.confirm").bind("click.confirm",function(e){e.preventDefault(),u.value=n("#"+t).find("#"+a).val(),m.confirm(u)}),n("#"+t).find("#"+c).find(".close").unbind("click.close").bind("click.close",function(n){n.preventDefault(),m.cancel(u)}),m.show()})},n.close=function(){n("body").hasClass(l)&&m.close()}}(jQuery);
