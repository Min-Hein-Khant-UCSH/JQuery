<!doctype html>
<html lang="en">

<head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!--  Font Awesome for Bootstrap fonts and icons -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">

        <!-- Material Design for Bootstrap CSS -->
        <link rel="stylesheet"
                href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css"
                integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX"
                crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
        <!-- for jquery -->
        
        
        <title>Students Registration Form</title>
        <style>
        /*body
        {
            background: rgb(230,230,250);
        }*/
        .loader_bg
        {

            position: fixed;
            z-index: 999999;
            //background: linear-gradient(to top right, #ffffff 0%, #ccffcc 100%);
            background: white;
            width: 100%;
            height: 100%;
        }

        .loader
        {
            border:0 solid transparent;
            border-radius: 50%;
            width: 150px;
            height: 150px;
            position: absolute;
            top: calc(30vh - 75px);
            left: calc(48.5vw - 75px);

        }
        .loader:before, .loader:after
        {
            content: '';
            border:1em solid #ff5733;
            //border:1em solid rgba(12,13,122,0.5);
            border-radius: 50%;
            width: inherit;
            height: inherit;
            position: absolute;
            top: 0;
            left: 0;
            animation: loader 2s linear infinite;
            opacity: 0;
        }
        .loader:before
        {
            animation-delay: .5s;
        }
        @keyframes loader{
            0%
            {
                transform: scale(0);
                opacity: 0;
            }
            50%
            {
                opacity: 1;
            }
            100%
            {
                transform: scale(1);
            }
        }
    </style>
    
        

</head>

<body>
    <div class="loader_bg">
        <div class="loader"></div>
    </div>
         <!-- Start Header -->

        <div class="jumbotron jumbotron-fluid header">
                <div class="container">
                        <h1 class="text-white text-center text-capitalize">Students Registration Form</h1>
                        <br>
                </div>
        </div>

        <!-- Content -->
        <div class="container-fluid">
                <div class="row">
                        <div class="col-md-4 pr-3 pl-6 registerform">
                                <!-- Category List -->
                                <div class="card card-dark">
                                        <div class="card-header">
                                                <h4 class="text-center">Register</h4>
                                                
                                        </div>
                                        <div class="card-body">
                                                <div class="form-group">
                                                <input type="text" class="form-control text-white" placeholder="Enter Username" id="name">
                                                <p id="wkwk" class=""></p>
                                                </div>
                                        <div class="form-group">
                                                <input type="number" class="form-control text-white" placeholder="Enter Age" id="age">
                                                <p id="wkwk1" class="text-danger"></p>
                                        </div>
                                        <div class="form-group">
                                                <input type="text" class="form-control text-white" placeholder="Enter Address" id="address">
                                                <p id="wkwk2" class="text-danger"></p> 
                                        </div>
                                        <div class="form-group">
                                                <input type="email" class="form-control text-white" placeholder="ex: myname@example.com" id="email">
                                                <p id="wkwk3" class="text-danger"></p>
                                        </div>
                                        <div class="form-group">
                                                <input type="number" class="form-control text-white" placeholder="Enter PhoneNumber" maxlength="15" minlength="11" id="number">
                                                <p id="wkwk4" class="text-danger"></p>
                                                <small class="text-warning">(Format: 123-456-7890)</small>
                                        </div>
                                        <div class="form-group">
                                                <input type="date" class="form-control text-white" placeholder="Enter Birth Date" id="birthDate">
                                                <p id="wkwk5" class="text-danger"></p>
                                                <small class="text-warning">(Birth Date)</small>
                                        </div>
                                        <div class="form-group">
                                                <input type="radio" name="gender" value="male" id="male">
                                                <label for="male">Male</label>
                                                <br>
                                                <input type="radio" name="gender" value="female" id="female">
                                                <label for="female">Female</label>
                                                <br>
                                                <input type="radio" name="gender" value="other" id="other">
                                                <label for="other">Other</label>
                                                <br>
                                                <small class="text-warning">(Gender)</small>
                                                <p id="wkwk6" class="text-danger"></p>
                                        </div>
                                        <p id="apple" class="text-success"></p>
                                        <input type="submit" value="Register" class="btn  btn-outline-success btn-block" id="register">
                                </div>
                                
                        </div>
                </div>
                <div class="col-md-4 pr-3 pl-6 updateform">
                                <!-- Category List -->
                                <div class="card card-dark">
                                        <div class="card-header">
                                                <h4 class="text-center">Update Register</h4>
                                                
                                        </div>
                                        <div class="card-body">
                                                <div class="form-group">
                                                <input type="hidden" id="uid">
                                                <input type="text" class="form-control text-white" placeholder="Enter Username" id="uname">
                                                <p id="wwkwk" class="text-danger"></p>
                                                </div>
                                        <div class="form-group">
                                                <input type="number" class="form-control text-white" placeholder="Enter Age" id="uage">
                                                <p id="awkwk1" class="text-danger"></p>
                                        </div>
                                        <div class="form-group">
                                                <input type="text" class="form-control text-white" placeholder="Enter Address" id="uaddress">
                                                <p id="bwkwk2" class="text-danger"></p> 
                                        </div>
                                        <div class="form-group">
                                                <input type="email" class="form-control text-white" placeholder="ex: myname@example.com" id="uemail">
                                                <p id="cwkwk3" class="text-danger"></p>
                                        </div>
                                        <div class="form-group">
                                                <input type="number" class="form-control text-white" placeholder="Enter PhoneNumber" maxlength="15" minlength="11" id="unumber">
                                                <p id="dwkwk4" class="text-danger"></p>
                                                <small class="text-warning">(Format: 123-456-7890)</small>
                                        </div>
                                        <div class="form-group">
                                                <input type="date" class="form-control text-white" placeholder="Enter Birth Date" id="ubirthDate">
                                                <p id="ewkwk5" class="text-danger"></p>
                                                <small class="text-warning">(Birth Date)</small>
                                        </div>
                                        <div class="form-group">
                                                <input type="radio" name="ugender" value="male" id="umale">
                                                <label for="umale">Male</label>
                                                <br>
                                                <input type="radio" name="ugender" value="female" id="ufemale">
                                                <label for="ufemale">Female</label>
                                                <br>
                                                <input type="radio" name="ugender" value="other" id="uother">
                                                <label for="uother">Other</label>
                                                <br>
                                                <small class="text-warning">(Gender)</small>
                                                <p id="fwkwk6" class=""></p>
                                        </div>
                                        <p id="orange" class="text-success"></p>
                                        <input type="submit" value="Update" class="btn  btn-outline-success btn-block" id="update">
                                </div>
                                
                        </div>
                </div>
                <div class="col-md-8 pr-3 pl-6">
                    <div class="card card-dark">
                        <div class="card-body">
                          <table class="table table-bordered table-hover table-responsive-lg">
                                <thead>
                                        <tr>
                                                <th class="text-white">No</th>
                                                <th class="text-white">Name</th>
                                                <th class="text-white">Age</th>
                                                <th class="text-white">Address</th>
                                                <th class="text-white">Email</th>
                                                <th class="text-white">Phone</th>
                                                <th class="text-white">Date</th>
                                                <th class="text-white">Gender</th>
                                                <th class="text-white">Option</th>
                                        </tr>
                                </thead>
                                <tbody>
                                        
                                </tbody>
                        </table>  
                        </div>
                    </div>
                </div>
        </div>
</div>


        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
                integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
                crossorigin="anonymous"></script> -->
        <script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js"
                integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U"
                crossorigin="anonymous"></script>
        <script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js"
                integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9"
                crossorigin="anonymous"></script>
        <script>$(document).ready(function () { $('body').bootstrapMaterialDesign(); });</script>
        <script type="text/javascript">
        setTimeout(function(){
            $(".loader_bg").fadeToggle();
        },3000);
        </script>
        <script type="text/javascript">
                jQuery(document).ready(function() {
                    $(".updateform").hide();
                        // alert("Hello");
                        showtable();
                        $("#register").click(function(){
                        let name=$("#name").val();
                        let age=$("#age").val();
                        let address=$("#address").val();
                        let email=$("#email").val();
                        let number=$("#number").val();
                        let birthDate=$("#birthDate").val();
                        let gender=$("input[name='gender']:checked").val();
                        //console.log(name+' '+age+' '+address+" "+email+' '+number+' '+birthDate+' '+gender);
                        if(name && age && address && email && number && birthDate && gender)
                        {
                               let student={
                                name:name,
                                age:age,
                                address:address,
                                email:email,
                                number:number,
                                birthDate:birthDate,
                                gender:gender

                        };
                        //console.log(student);
                        let studentlist=localStorage.getItem('student');
                        //console.log(studentlist);
                        let studentArray;
                        if(studentlist==null)
                        {
                                studentArray=[];
                        }
                        else
                        {
                                studentArray=JSON.parse(studentlist);
                        }

                        studentArray.push(student);
                        let stringstudent=JSON.stringify(studentArray);
                        localStorage.setItem("student", stringstudent);
                        name=$("#name").val('');
                        age=$("#age").val('');
                        address=$("#address").val('');
                        email=$("#email").val('');
                        number=$("#number").val('');
                        birthDate=$("#birthDate").val('');
                        // gender=$("input[name='']:checked").val('');
                        // $("#male").val('');
                        // $("#female").val('');
                        // $("#other").val('');
                        showtable(); 
                         $("#apple").html("SuccessFully Added");
                        }
                        else
                        {
                                if(name)
                                {
                                        //console.log("wkwk");
                                         $("#wkwk").addClass("text-success").html("Name is completed");
                                }
                                else
                                {
                                        $("#wkwk").addClass('text-danger').html("Name is required");
                                }
                              
                              $("#wkwk1").html("Age is required");
                              $("#wkwk2").html("Address is required");
                              $("#wkwk3").html("Email is required");
                              $("#wkwk4").html("PhoneNumber is required");
                              $("#wkwk5").html("Birthday is required");  
                              $("#wkwk6").html("Gender is required");  
                        }
                        
                        
                        });

                        function showtable(){
                               let Studentlist=localStorage.getItem('student');
                               //console.log(Studentlist);
                               if(Studentlist)
                               {
                                let studentArray=JSON.parse(Studentlist);
                                //console.log(studentArray);
                                let j=1;
                                let html="";
                                $.each(studentArray,function(i, v) {
                                html+=
                                `<tr>
                                <td>${j++}</td>
                                <td>${v.name}</td>
                                <td>${v.age}</td>
                                <td>${v.address}</td>
                                <td>${v.email}</td>
                                <td>${v.number}</td>
                                <td>${v.birthDate}</td>
                                <td>${v.gender}
                                </td>
                                <td>
                                <button type="submit" class="btn btn-outline-success btnedit"  data-id="${i}"><i class="far fa-edit"></i></button>
                                <button type="submit" class="btn btn-outline-danger btndelete"  data-id="${i}"><i class="fas fa-trash"></i></button>
                                 </td>
                                </tr>
                                `;        
                                });
                                $("tbody").html(html);
                                 }

                        }


                        
                        $("tbody").on('click','.btnedit',function(){
                            // alert("aSome");
                            $(".registerform").hide();
                            $(".updateform").show();
                            let id=$(this).data('id');
                            //console.log(id);
                            let studentlist=localStorage.getItem("student");
                            //console.log(studentlist);
                            let studentArray=JSON.parse(studentlist);
                            //console.log(studentArray);
                            let editstudent=studentArray[id];
                            //console.log(editstudent);
                            let name=editstudent.name;
                            let age=editstudent.age;
                            let address=editstudent.address;
                            let email=editstudent.email;
                            let number=editstudent.number;
                            $("#uid").val(id);
                            let birthDate=editstudent.birthDate;
                            let gender=editstudent.gender;
                            //console.log(name+' '+age);

                            $("#uname").val(name);
                            $("#uage").val(age);
                            $("#uaddress").val(address);
                            $("#uemail").val(email);
                            $("#unumber").val(number);
                            $("#ubirthDate").val(birthDate);
                            
                            if(gender=="male")
                            {
                                $("#umale").prop("checked",'checked');
                            }
                            else if (gender=='other') {
                                 $("#uother").prop("checked",'checked');
                            }
                            else
                            {
                                $("#ufemale").prop("checked",'checked');
                            }
                        })


                    $("#update").click(function(){
                        //alert("aSome");
                        let id=$("#uid").val();

                        //console.log(id);

                        let name=$("#uname").val();
                        let age=$("#uage").val();
                        let address=$("#uaddress").val();
                        let email=$("#uemail").val();
                        let number=$("#unumber").val();
                        let birthDate=$("#ubirthDate").val();
                        let gender=$("input[name='ugender']:checked").val();
                        //console.log(name+" "+age);
                        if(name && age && address && email && number && birthDate && gender)
                        {
                            let upstudent={
                                name:name,
                                age:age,
                                address:address,
                                email:email,
                                number:number,
                                birthDate:birthDate,
                                gender:gender

                        };
                        let studentlist=localStorage.getItem('student');
                         let studentArray=JSON.parse(studentlist);
                         console.log(studentArray[id]);
                         studentArray[id]=upstudent;
                         let stringstudent=JSON.stringify(studentArray);
                         localStorage.setItem('student', stringstudent);
                         name=$("#uname").val('');
                        age=$("#uage").val('');
                        address=$("#uaddress").val('');
                        email=$("#uemail").val('');
                        number=$("#unumber").val('');
                        birthDate=$("#ubirthDate").val('');
                        // gender=$("input[name='']:checked").val('');
                        // $("#male").val('');
                        // $("#female").val('');
                        // $("#other").val('');
                         showtable();
                          $("#orange").html("SuccessFully Updated");
                        }
                        else
                        {
                                if(gender)
                                {
                                        //console.log("wkwk");
                                        // $("#wkwk").addClass("text-success").html("Name is completed");
                                         $("#fwkwk6").addClass("text-success").html("Gender is completed"); 
                                }
                              $("#wwkwk").html("Name is required");
                              $("#awkwk1").html("Age is required");
                              $("#bwkwk2").html("Address is required");
                              $("#cwkwk3").html("Email is required");
                              $("#dwkwk4").html("PhoneNumber is required");
                              $("#ewkwk5").html("Birthday is required");  
                              // $("#fwkwk6").html("Gender is required"); 
                        }

                        



                    })

                    $("tbody").on('click','.btndelete',function(){
                        //alert('Hi');
                        //let deletecon=confirm("Are you sure you want to delete?");



                        let id=$(this).data('id');
                        //console.log(id);
                        let studentlist=localStorage.getItem('student');
                        let studentArray=JSON.parse(studentlist);
                        //console.log(studentArray);
                        if(confirm("Are you sure you want to delete?"))
                        {
                         studentArray.splice(id,1);
                        let stringstudent=JSON.stringify(studentArray);
                        localStorage.setItem('student',stringstudent);
                        showtable();   
                        }
                        
                        


                    })

                        

                });
        </script>
</body>

</html>